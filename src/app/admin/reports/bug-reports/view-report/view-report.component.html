<div class="dialog">
    <div class="severity"><span [class]="badgeClass">{{data.report.severity}}</span></div>
    <div mat-dialog-title>
        <h2 class="text-danger">
            <fa-icon [icon]="faBug" *ngIf="data.report.type === 'bug'"></fa-icon>
            Report
        </h2>
        <p class="text-muted" style="font-size: 10px;">{{data.report.reportDateTime | date:'medium'}}</p>
    </div>
    <hr>
    <div mat-dialog-content>
        <h4><strong>Reporter Name:</strong> {{data.report.userFullName}}</h4>
        <h4><strong>Reporter Email:</strong> {{data.report.userEmail}}</h4>
        <div *ngIf="!replyMode">
            <h4><strong>Description:</strong></h4>
            <pre class="desc">{{data.report.description}}</pre>
        </div>
        <div *ngIf="replyMode">
            <form [formGroup]="form" (ngSubmit)="onSubmit()" #f="ngForm">
                <mat-form-field class="full-width mt-3" appearance="legacy">
                    <mat-label>Reply Message:</mat-label>
                    <textarea matInput rows="4" formControlName="replyMsg"
                        placeholder="Please enter a detailed description" required></textarea>
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </form>
        </div>
    </div>
    <div mat-dialog-actions class="actions">
        <button mat-button cdkFocusInitial (click)="onNoClick()">Close</button>
        <div *ngIf="!replyMode">
            <button type="button" mat-raised-button color="accent" cdkFocusInitial
                (click)="onSwitchMode()">Reply</button>
        </div>
        <div *ngIf="replyMode">
            <button type="button" mat-raised-button color="warn" cdkFocusInitial
                (click)="onSwitchMode()">Cancel</button>
            <button type="submit" mat-raised-button color="primary" cdkFocusInitial (click)="f.onSubmit(undefined)"
                [disabled]="updating">
                {{ updating ? 'Sending...' : 'Send' }}
            </button>
        </div>
    </div>
</div>